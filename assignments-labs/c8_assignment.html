<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-10-15">

<title>Class 8 Assignment: Evictions &amp; Rent-Stabilization in NYC — EDA + Mapping</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="c8_assignment_files/libs/clipboard/clipboard.min.js"></script>
<script src="c8_assignment_files/libs/quarto-html/quarto.js"></script>
<script src="c8_assignment_files/libs/quarto-html/popper.min.js"></script>
<script src="c8_assignment_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="c8_assignment_files/libs/quarto-html/anchor.min.js"></script>
<link href="c8_assignment_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="c8_assignment_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="c8_assignment_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="c8_assignment_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="c8_assignment_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="c8_assignment_files/styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preamble" id="toc-preamble" class="nav-link active" data-scroll-target="#preamble">Preamble</a></li>
  <li><a href="#week-8-materials" id="toc-week-8-materials" class="nav-link" data-scroll-target="#week-8-materials">Week 8 Materials</a></li>
  <li><a href="#week-8-assignment-data" id="toc-week-8-assignment-data" class="nav-link" data-scroll-target="#week-8-assignment-data">Week 8 Assignment Data</a></li>
  <li><a href="#week-8-reading" id="toc-week-8-reading" class="nav-link" data-scroll-target="#week-8-reading">Week 8 Reading</a></li>
  <li><a href="#assignment-overview" id="toc-assignment-overview" class="nav-link" data-scroll-target="#assignment-overview">Assignment Overview</a></li>
  <li><a href="#part-i-citywide-eda-leaflet-hex-map" id="toc-part-i-citywide-eda-leaflet-hex-map" class="nav-link" data-scroll-target="#part-i-citywide-eda-leaflet-hex-map">Part I — Citywide EDA + Leaflet Hex Map</a>
  <ul class="collapse">
  <li><a href="#step-1-data" id="toc-step-1-data" class="nav-link" data-scroll-target="#step-1-data">Step 1 — Data</a></li>
  <li><a href="#step-2-time-series-eda" id="toc-step-2-time-series-eda" class="nav-link" data-scroll-target="#step-2-time-series-eda">Step 2 — Time-Series EDA</a></li>
  <li><a href="#step-3-neighborhood-eda-nta" id="toc-step-3-neighborhood-eda-nta" class="nav-link" data-scroll-target="#step-3-neighborhood-eda-nta">Step 3 — Neighborhood EDA (NTA)</a></li>
  <li><a href="#step-4-leaflet-hex-map" id="toc-step-4-leaflet-hex-map" class="nav-link" data-scroll-target="#step-4-leaflet-hex-map">Step 4 — Leaflet Hex Map</a></li>
  <li><a href="#part-i-deliverables" id="toc-part-i-deliverables" class="nav-link" data-scroll-target="#part-i-deliverables">Part I Deliverables</a></li>
  </ul></li>
  <li><a href="#part-ii-bin-joins-rs-parcel-context" id="toc-part-ii-bin-joins-rs-parcel-context" class="nav-link" data-scroll-target="#part-ii-bin-joins-rs-parcel-context">Part II — BIN Joins &amp; RS Parcel Context</a>
  <ul class="collapse">
  <li><a href="#step-1-inputs" id="toc-step-1-inputs" class="nav-link" data-scroll-target="#step-1-inputs">Step 1 — Inputs</a></li>
  <li><a href="#step-2-bin-normalization" id="toc-step-2-bin-normalization" class="nav-link" data-scroll-target="#step-2-bin-normalization">Step 2 — BIN Normalization</a></li>
  <li><a href="#step-3-eviction-counts-by-bin" id="toc-step-3-eviction-counts-by-bin" class="nav-link" data-scroll-target="#step-3-eviction-counts-by-bin">Step 3 — Eviction Counts by BIN</a></li>
  <li><a href="#step-4-join-to-centroids" id="toc-step-4-join-to-centroids" class="nav-link" data-scroll-target="#step-4-join-to-centroids">Step 4 — Join to Centroids</a></li>
  <li><a href="#step-5-rs-spatial-flag" id="toc-step-5-rs-spatial-flag" class="nav-link" data-scroll-target="#step-5-rs-spatial-flag">Step 5 — RS Spatial Flag</a></li>
  <li><a href="#step-6-top-25-tables" id="toc-step-6-top-25-tables" class="nav-link" data-scroll-target="#step-6-top-25-tables">Step 6 — Top-25 Tables</a></li>
  <li><a href="#step-7-comparative-plots" id="toc-step-7-comparative-plots" class="nav-link" data-scroll-target="#step-7-comparative-plots">Step 7 — Comparative Plots</a></li>
  <li><a href="#part-ii-deliverables" id="toc-part-ii-deliverables" class="nav-link" data-scroll-target="#part-ii-deliverables">Part II Deliverables</a></li>
  </ul></li>
  <li><a href="#quality-assurance-suggested" id="toc-quality-assurance-suggested" class="nav-link" data-scroll-target="#quality-assurance-suggested">Quality Assurance (Suggested)</a></li>
  <li><a href="#submission-notes" id="toc-submission-notes" class="nav-link" data-scroll-target="#submission-notes">Submission Notes</a></li>
  <li><a href="#saving-plotting-and-screengrabs" id="toc-saving-plotting-and-screengrabs" class="nav-link" data-scroll-target="#saving-plotting-and-screengrabs">Saving, Plotting and Screengrabs</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#timeline-deliverables" id="toc-timeline-deliverables" class="nav-link" data-scroll-target="#timeline-deliverables">Timeline &amp; Deliverables</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class 8 Assignment: Evictions &amp; Rent-Stabilization in NYC — EDA + Mapping</h1>
<p class="subtitle lead">Fall 2025 | Instructor: Stephen Metts | <a href="https://courses.newschool.edu/courses/PGUD5160/">PGUD 5160 - CRN 2247</a></p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 15, 2025</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="preamble" class="level2">
<h2 class="anchored" data-anchor-id="preamble">Preamble</h2>
<p>In this eighth week’s assignment, we will build on the Class 8 Lab <code>tidyverse</code> EDAs to include both mapping and a slightly different approach to rent stabilized units where the BIN from the evictions data is tied directly to BINs in the building centroids data that we used previously in Class 7 to map building permits.</p>
<p>This week, like the lab, we are exploring the executed evictions in NYC and their relationship to rent-stabilized parcels. We first explore the full time series and neighborhood patterns of evictions (<strong>Part I</strong>), then integrate building BINs and rent-stabilized (RS) parcel context for deeper building-level insights (<strong>Part II</strong>).</p>
<p>As noted in Class 8 Lab, we can also integrate some of the EDA plotting results as image files (.png) into the Class 8 Assignment <code>.Rmd</code> for further context.</p>
<p>Follow the steps below: first orient to this week’s materials, then work through Parts I and II; further consider integration of the Class 8 lab plots The assignment deliverable will be submitted as an <code>.html</code> or <code>.pdf</code> rendered from your <code>.Rmd</code>.</p>
<p><strong>Due Thursday 10/23/25 at 11:59pm</strong>.</p>
<hr>
</section>
<section id="week-8-materials" class="level2">
<h2 class="anchored" data-anchor-id="week-8-materials">Week 8 Materials</h2>
<ul>
<li><a href="https://tns-course-repositories.github.io/Methods_1-PGUD5160-DUE-Program-fall25/agendas/c8_agenda">Class 8 Agenda</a></li>
<li><a href="https://tns-course-repositories.github.io/Methods_1-PGUD5160-DUE-Program-fall25/lecture-slides/lecture.8/index.html">Class 8 Lecture Slides</a></li>
<li><a href="https://tns-course-repositories.github.io/Methods_1-PGUD5160-DUE-Program-fall25/assignments-labs/c8_lab">Class 8 lab</a></li>
<li><a href="https://tns-course-repositories.github.io/Methods_1-PGUD5160-DUE-Program-fall25/assignments-labs/c8_assignment">Class 8 Assignment - This Document</a></li>
<li><a href="https://github.com/tns-course-repositories/Methods_1-PGUD5160-DUE-Program-fall25/blob/main/scripts/c8_assignment8-script-1.R">Class 8 Assignment Script #1</a></li>
<li><a href="https://github.com/tns-course-repositories/Methods_1-PGUD5160-DUE-Program-fall25/blob/main/scripts/c8_assignment8-script-2.R">Class 8 Assignment Script #2</a></li>
<li><a href="https://github.com/tns-course-repositories/Methods_1-PGUD5160-DUE-Program-fall25/blob/main/scripts/c8_lab8-script-1.R">Class 8 Lab Script #1</a></li>
<li><a href="https://github.com/tns-course-repositories/Methods_1-PGUD5160-DUE-Program-fall25/blob/main/scripts/assignment_8.Rmd">Class 8 Assignment .Rmd ‘starter file’</a></li>
<li>[Class 8 Assignment ]</li>
</ul>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>As we have done for past assignments, Create an R Project pointing at your <code>assignment_8</code> folder with subdirectories: <code>/data</code>, <code>/scripts</code>, <code>/docs</code>, <code>/results</code>. Confirm your working directory with <code>getwd()</code> and list files via <code>list.files(recursive = TRUE)</code> as needed.</p>
</div>
</div>
<hr>
</section>
<section id="week-8-assignment-data" class="level2">
<h2 class="anchored" data-anchor-id="week-8-assignment-data">Week 8 Assignment Data</h2>
<p>Like Lab 8, we will download the starter data, uncompress it and place into the <code>/data</code> directory. Make sure to alter your paths in the assignment scripts as needed.</p>
<p><a href="https://weekly-materials.s3.us-west-1.amazonaws.com/assignment_8_data_subdirectory.zip">Data Download LINK</a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c8_assignment_files/img/8-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Class 8 <code>/data</code> structure</em></figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that there is a file <code>Rplot_Dummy.png</code>. This file is called into the starter <code>.Rmd</code> as an example of pulling a plot export as <code>.png</code>; you can use this format for inputting all your plots and maps for this week’s assignment. This is different than how we’ve called objects into <code>.Rmd</code> in past assignments. This is an easier process to just input the <code>.png</code> results from your main working scripts.</p>
</div>
</div>
<hr>
</section>
<section id="week-8-reading" class="level2">
<h2 class="anchored" data-anchor-id="week-8-reading">Week 8 Reading</h2>
<p>Next week’s quiz 8 will feature 5 multiple choice questions, and 5 True or False questions on the following online, accessible article:</p>
<ul>
<li><a href="https://smhttp-ssl-58547.nexcesscdn.net/nycss/images/uploads/pubs/031825_AnnualSurvey2024_Eviction_report_V7.pdf">PREVENTING EVICTION IN NEW YORK STATE: A Snapshot of What Works and What Doesn’t</a></li>
</ul>
<p>This week’s assignment uses both spatial and non-spatial tied primarily to the <code>tidyverse</code> package, with spatial operations handled by the <code>sf</code> package. In review of the input data sources, we know that we have both evictions data, ‘likely’ rent stablized parcels and the building centroids data set from NYC Planning. This week’s reading addresses these units - both evictions data and rent stabilized properties - as it contextualizes larger trends regarding housing both in NYC and NYS. Pay attention to the following concept and themes from the reading:</p>
<ul>
<li>NYC eviction filings have a defined trend that we see both in our analyses as well as the reading.</li>
<li>Court-ordered evictions are not necessarily executed evictions; understand the difference between each.</li>
<li>As we see in our analyses, risk in NYC is not distributed evenly. this is a theme in the reading also.</li>
<li>The reading also addresses issues outside NYC across the state; understand the trends across both geographic scales.</li>
</ul>
<p>At 7am Friday, October 24th, the eighth weekly quiz will open in Canvas. Utilize the posted <a href="https://tns-course-repositories.github.io/Methods_1-PGUD5160-DUE-Program-fall25/agendas/c9_agenda">Class 9 Agenda</a> to gain the quiz access code which will be posted towards the beginning of the agenda. Expect 10 questions in total that cover the reading above.</p>
<hr>
</section>
<section id="assignment-overview" class="level2">
<h2 class="anchored" data-anchor-id="assignment-overview">Assignment Overview</h2>
<p>We will produce an exploratory analysis and three sets of visuals:</p>
<ul>
<li><strong>Part I</strong>: Citywide evictions EDA (monthly trend, top NTAs) + interactive leaflet hex map.</li>
<li><strong>Part II</strong>: Building-level joins by BIN and RS parcel context (top 25 buildings overall vs.&nbsp;inside RS).</li>
<li><strong>Part III</strong>: Your choice of selected <code>tidyverse</code> EDA experiment results (plots exported as .png).</li>
</ul>
<p>Utilize the <a href="https://github.com/tns-course-repositories/Methods_1-PGUD5160-DUE-Program-fall25/blob/main/scripts/assignment_8.Rmd">Class 8 Assignment .Rmd ‘starter file’</a> for the development of your write-up, static plots from <strong>Parts I-III</strong> (including screentshot(s) from the interactive leaflet map).</p>
<hr>
</section>
<section id="part-i-citywide-eda-leaflet-hex-map" class="level2">
<h2 class="anchored" data-anchor-id="part-i-citywide-eda-leaflet-hex-map">Part I — Citywide EDA + Leaflet Hex Map</h2>
<p><strong>Goal.</strong> Clean and summarize executed evictions citywide; build a performatted, aggregated web map using hex bins.</p>
<section id="step-1-data" class="level3">
<h3 class="anchored" data-anchor-id="step-1-data">Step 1 — Data</h3>
<ul>
<li>Input: an evictions <code>.rds</code> that includes <code>Executed Date</code> and latitude/longitude fields.</li>
<li>Load the <code>.rds</code>; parse <code>Executed Date</code> to Date (<code>mm/dd/yyyy</code>), filter NA dates.</li>
</ul>
</section>
<section id="step-2-time-series-eda" class="level3">
<h3 class="anchored" data-anchor-id="step-2-time-series-eda">Step 2 — Time-Series EDA</h3>
<ul>
<li>Create a monthly series of executed evictions (<code>floor_date</code> to month, <code>count</code> by month).</li>
<li>Plot: line chart of evictions per month (full span). Briefly describe any patterns.</li>
</ul>
</section>
<section id="step-3-neighborhood-eda-nta" class="level3">
<h3 class="anchored" data-anchor-id="step-3-neighborhood-eda-nta">Step 3 — Neighborhood EDA (NTA)</h3>
<ul>
<li>Aggregate evictions by <strong>NTA</strong>; sort descending and display <strong>Top 25</strong> in a horizontal bar chart.</li>
<li>Use <code>forcats::fct_reorder()</code> to order bars by count; label with <code>scales::comma()</code>.</li>
</ul>
</section>
<section id="step-4-leaflet-hex-map" class="level3">
<h3 class="anchored" data-anchor-id="step-4-leaflet-hex-map">Step 4 — Leaflet Hex Map</h3>
<ul>
<li>QC latitude/longitude to a NYC bounding box; drop <code>(0, 0)</code> and outliers.</li>
<li>Convert to <code>sf</code> (WGS84), reproject to <strong>EPSG:3857</strong>.</li>
<li>Build a hex grid over a buffered convex hull of points (e.g., <strong>600 m</strong> cells).</li>
<li>Join points to hexes (e.g., <code>st_within</code>); count evictions per hex.</li>
<li>Drop zero-count hexes for clarity/performance.</li>
<li>Compute legend bins via <strong>Fisher–Jenks</strong> (fallback to <strong>quantile</strong>).</li>
<li>Map with <strong>leaflet</strong>: base tiles, hex polygons (fill by <code>evictions_sum</code>), legend; overlay RS outline to see the relationship with parcels that feature at least one building with rent stabilized units.</li>
</ul>
</section>
<section id="part-i-deliverables" class="level3">
<h3 class="anchored" data-anchor-id="part-i-deliverables">Part I Deliverables</h3>
<ul>
<li>Time-series plot image.</li>
<li>Top-25 NTA bar chart image.</li>
<li>Interactive leaflet map (screenshot(s) acceptable).</li>
</ul>
<hr>
</section>
</section>
<section id="part-ii-bin-joins-rs-parcel-context" class="level2">
<h2 class="anchored" data-anchor-id="part-ii-bin-joins-rs-parcel-context">Part II — BIN Joins &amp; RS Parcel Context</h2>
<p><strong>Goal.</strong> Join evictions to building centroids via <strong>BIN</strong>; flag whether buildings fall inside <strong>rent-stabilized (RS)</strong> parcels; compare the <strong>Top 25</strong> buildings overall vs.&nbsp;inside RS.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is a slightly different process than using the BBL alone as we did in Class 8 Lab. Here we revert back to Class 7 building centroids used for the building permits to drop atop ‘likely’ rent stabilized (rs) parcels and flag them either outside or inside these parcels. That allows for the comparison between ‘all’ buildings and ‘rs’ buildings via the ‘top 25’ comparison.</p>
</div>
</div>
<section id="step-1-inputs" class="level3">
<h3 class="anchored" data-anchor-id="step-1-inputs">Step 1 — Inputs</h3>
<ul>
<li>Building <strong>centroids</strong> shapefile (<strong>EPSG:2263</strong>) with <code>BIN</code> field.</li>
<li><strong>RS parcels</strong> shapefile (<strong>EPSG:2263</strong>).</li>
<li>The same evictions <code>.rds</code> used in Part I (must include a BIN-like field: <code>BIN</code>/<code>bin</code>/<code>building_identification_number</code>).</li>
</ul>
</section>
<section id="step-2-bin-normalization" class="level3">
<h3 class="anchored" data-anchor-id="step-2-bin-normalization">Step 2 — BIN Normalization</h3>
<ul>
<li>Normalize BIN values to digit-only <strong>character</strong> strings (avoid scientific notation and punctuation).</li>
<li>Remove known bogus BINs (e.g., <code>1000000</code>, <code>2000000</code>, <code>3000000</code>, <code>4000000</code>).</li>
</ul>
</section>
<section id="step-3-eviction-counts-by-bin" class="level3">
<h3 class="anchored" data-anchor-id="step-3-eviction-counts-by-bin">Step 3 — Eviction Counts by BIN</h3>
<ul>
<li>Count evictions per BIN into a table: <code>bin</code>, <code>evictions_total</code>.</li>
</ul>
</section>
<section id="step-4-join-to-centroids" class="level3">
<h3 class="anchored" data-anchor-id="step-4-join-to-centroids">Step 4 — Join to Centroids</h3>
<ul>
<li>Read centroids; standardize BIN to digits; select <code>(bin, geometry)</code>; <code>st_transform</code> to <strong>2263</strong>.</li>
<li><code>left_join()</code> eviction counts by <code>bin</code>; <code>coalesce</code> missing to zero (<code>evictions_total = 0</code> when no match).</li>
</ul>
</section>
<section id="step-5-rs-spatial-flag" class="level3">
<h3 class="anchored" data-anchor-id="step-5-rs-spatial-flag">Step 5 — RS Spatial Flag</h3>
<ul>
<li>Read RS parcels; <code>st_make_valid()</code>, <code>st_transform(2263)</code>.</li>
<li>For each centroid, compute <code>in_rs_parcel = lengths(st_intersects(centroid, rs_parcels)) &gt; 0</code>.</li>
</ul>
</section>
<section id="step-6-top-25-tables" class="level3">
<h3 class="anchored" data-anchor-id="step-6-top-25-tables">Step 6 — Top-25 Tables</h3>
<ul>
<li><strong>Top 25 overall</strong> (<code>evictions_total &gt; 0</code>, sort descending).</li>
<li><strong>Top 25 inside RS</strong> (<code>in_rs_parcel == TRUE &amp; evictions_total &gt; 0</code>, sort descending).</li>
</ul>
</section>
<section id="step-7-comparative-plots" class="level3">
<h3 class="anchored" data-anchor-id="step-7-comparative-plots">Step 7 — Comparative Plots</h3>
<ul>
<li>Build two horizontal bar charts (<code>x = evictions_total</code>, <code>y = BIN</code>).</li>
<li>In the RS-only chart, color BINs <strong>black</strong> if they also appear in the <strong>overall</strong> top-25; <strong>grey</strong> otherwise.</li>
<li>Use <strong>patchwork</strong> to combine the two panels <strong>side-by-side</strong>; sync x-limits with <code>coord_cartesian()</code> to ensure fair comparison.</li>
</ul>
</section>
<section id="part-ii-deliverables" class="level3">
<h3 class="anchored" data-anchor-id="part-ii-deliverables">Part II Deliverables</h3>
<ul>
<li>Top-25 combined chart (<code>.png</code> recommended).</li>
<li>Make sure to include in your discussion section an anlysis of the overlap pattern between the “ALL” and “INSIDE RS” top-25 lists.</li>
</ul>
<hr>
</section>
</section>
<section id="quality-assurance-suggested" class="level2">
<h2 class="anchored" data-anchor-id="quality-assurance-suggested">Quality Assurance (Suggested)</h2>
<ul>
<li>Print <code>head()</code> of key objects after joins (e.g., eviction counts by month; hex_counts summary; top_buildings tables). Make sure you understand what each code chunk produces before moving to the next code section towards the final plot sections.</li>
</ul>
<hr>
</section>
<section id="submission-notes" class="level2">
<h2 class="anchored" data-anchor-id="submission-notes">Submission Notes</h2>
<ul>
<li>Submit an <strong>HTML</strong> or <strong>PDF</strong> produced from your Assignment 8 <code>.qmd</code> (use starter - <a href="https://github.com/tns-course-repositories/Methods_1-PGUD5160-DUE-Program-fall25/blob/main/scripts/assignment_8.Rmd">Class 8 Assignment .Rmd ‘starter file’</a>).</li>
<li>Include the plots and a short narrative answering:
<ul>
<li>What temporal pattern(s) stand out in the monthly time series (the full data set, unlike the 52 weeks subset of the lab)?</li>
<li>Which NTAs dominate, and why might that be? How is this different/similar when reviewing the leaflet map that does <em>not</em> include the NTA geographies?</li>
<li>What spatial clustering is visible in the hex map?</li>
<li>How do the top-25 buildings overall compare to those inside RS parcels?</li>
</ul></li>
</ul>
</section>
<section id="saving-plotting-and-screengrabs" class="level2">
<h2 class="anchored" data-anchor-id="saving-plotting-and-screengrabs">Saving, Plotting and Screengrabs</h2>
<ul>
<li>Save final plots or objects you want to re-use into <code>/results</code> (e.g., <code>saveRDS()</code> or <code>ggsave()</code>).</li>
<li>Use the plots window export options to save plot results (<code>.png</code>) and easily import into the submission <code>.Rmd</code>.</li>
<li>Like assignent 7, consider either one or a series of leaflet map <code>.png</code> exports (in assignment 7, we used <code>tmap</code>; <code>leaflet</code> will behave in a similar manner).</li>
</ul>
<hr>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><a href="https://ggplot2.tidyverse.org/">ggplot2 - tidyverse</a></li>
<li><a href="https://library.virginia.edu/data/articles/data-scientist-as-cartographer-an-introduction-to-making-interactive-maps-in-r-with-leaflet">Leaflet for R - University of Virginia</a></li>
</ul>
<hr>
</section>
<section id="timeline-deliverables" class="level2">
<h2 class="anchored" data-anchor-id="timeline-deliverables">Timeline &amp; Deliverables</h2>
<ul>
<li><strong>Due</strong>: <em>(October 23rd, 2015 - 11:59pm )</em><br>
</li>
<li><strong>Deliverables</strong>: rendered <code>.html</code> or <code>.pdf</code>; hold onto your <code>.qmd</code> in the project folder (do not remove after rendering).</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/^(?:http:|https:)\/\/www\.quarto\.org\/custom/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->



<script src="c8_assignment_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>