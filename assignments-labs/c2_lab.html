<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-09-04">

<title>Class 2 Lab: Fundamentals of Project Management + EDA in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="c2_lab_files/libs/clipboard/clipboard.min.js"></script>
<script src="c2_lab_files/libs/quarto-html/quarto.js"></script>
<script src="c2_lab_files/libs/quarto-html/popper.min.js"></script>
<script src="c2_lab_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="c2_lab_files/libs/quarto-html/anchor.min.js"></script>
<link href="c2_lab_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="c2_lab_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="c2_lab_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="c2_lab_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="c2_lab_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="c2_lab_files/styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preamble" id="toc-preamble" class="nav-link active" data-scroll-target="#preamble">Preamble</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#part-i-project-management-in-rstudio" id="toc-part-i-project-management-in-rstudio" class="nav-link" data-scroll-target="#part-i-project-management-in-rstudio">Part I: Project Management in RStudio</a></li>
  <li><a href="#concluding-remarks" id="toc-concluding-remarks" class="nav-link" data-scroll-target="#concluding-remarks">Concluding Remarks</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References:</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class 2 Lab: Fundamentals of Project Management + EDA in R</h1>
<p class="subtitle lead">Fall 2025 | Instructor: Stephen Metts | <a href="https://courses.newschool.edu/courses/PGUD5160/">PGUD 5160 - CRN 2247</a></p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 4, 2025</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="preamble" class="level2">
<h2 class="anchored" data-anchor-id="preamble">Preamble</h2>
<p>In this second demonstration lab, we will cover two branches of R fundamentals: first, project management practices; and second, exploratory data analysis approaches. This lab can be used in conjunction with this week’s assignment deliverable - <a href="https://tns-course-repositories.github.io/Methods_1-PGUD5160-DUE-Program-fall25/assignments-labs/c2_assignment">Assignment 2</a>.</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/NYC-data.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Location of NYPD Arrest Data on the NYC OpenData Platform</em></figcaption><p></p>
</figure>
</div>
<p>This week’s data is an important New York City dataset that has undergone data management changes over time, and is now readily available to the public in various formats including a quarterly update. The <a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc/about_data">NYPD Arrest Data (Year to Date)</a> dataset is summarized as follows:</p>
<blockquote class="blockquote">
<p>This is a breakdown of every arrest effected in NYC by the NYPD during the current year. This data is manually extracted every quarter and reviewed by the Office of Management Analysis and Planning. Each record represents an arrest effected in NYC by the NYPD and includes information about the type of crime, the location and time of enforcement.</p>
</blockquote>
<blockquote class="blockquote">
<p>In addition, information related to suspect demographics is also included. This data can be used by the public to explore the nature of police enforcement activity. Please refer to the attached data footnotes for additional information about this dataset.</p>
</blockquote>
<p>The metadata available for the dataset is located as follows:</p>
<ul>
<li><p><a href="https://data.cityofnewyork.us/api/views/uip8-fykc/files/62a746df-66ca-4603-aae4-46c02bac2972?download=true&amp;filename=NYPD_Arrest_Incident_Level_Data_Footnotes.pdf">NYPD Arrest Incide Level Data - Footnotes</a></p></li>
<li><p><a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc/about_data">NYPD Arrest Incident Level Data - About</a></p></li>
</ul>
<p>Before proceeding to the lab steps, we will download the quarterly <strong>July 15, 2025</strong> instance of the dataset in <code>.csv</code> format to the <code>Downloads</code> directory on individual machines. The total size of the file is approximately 25mb. A backup location in compressed zip format is also available in the link below:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/NYC-data-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Download interface for the NYPD Arrest Incident Data</em></figcaption><p></p>
</figure>
</div>
<ul>
<li><a href="https://weekly-materials.s3.us-west-1.amazonaws.com/NYPD_Arrest_Data__Year_to_Date__20250818.csv.zip"><em>Compressed alternative download option</em></a></li>
</ul>
</section>
<section id="part-i-project-management-in-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="part-i-project-management-in-rstudio">Part I: Project Management in RStudio</h2>
<p>While the first week’s lab was focused on downloading R software and orienting to the interface, this week’ lab will first cover project management that is necessary to maintain order for R to function well and importantly keep track of data and analysis processes in an efficient manner. It should be said upfront that there are many different approaches to project management in any data analysis software platform; R is no exception. The goal of this second lab is to introduce some key, essential concepts that will first allow analysis itself to happen; and second, build a floor on which to expand and refine over time with gained experience in data analysis with the R platform.</p>
<section id="step-1" class="level4">
<h4 class="anchored" data-anchor-id="step-1">Step 1:</h4>
<p>Launch RStudio, and navigate to the top menu bar, find <em>File</em>, click and open <em>New Project</em>. From here, we will choose <em>New Directory</em>, followed by a <em>New Project</em>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/new-project.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>RStudio &gt; File &gt; New Project</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/new-project-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>RStudio &gt; File &gt; New Project &gt; New Directory</em></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/new-project-2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>RStudio &gt; File &gt; New Project &gt; New Directory &gt; New Project</em></figcaption><p></p>
</figure>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>as we move to the next step, make sure to choose your ‘upper level’ directory carefully. In our case we will use the <em>Desktop</em> as that location is easily understood and quick to visually access. Next, make sure to use only <code>_</code> or <code>-</code> if you wish to create spaces in your naming conventions. Odd characters and empty spaces are recipe for problems. In our case, we will call our project directory <code>lab_2</code> and it will have the following path once created <code>~/Desktop/lab_2/</code> and the actual Rproj file will reside therein as follows <code>~/Desktop/lab_2/lab_2.Rproj</code>.</p>
</div>
</div>
<p>Next, proceed to <em>Create New Project</em> and give the Directory name as <code>lab_2</code> and create in the ‘upper level’ subdirectory that is the Desktop <code>~/Desktop</code>. We will further toggle check box <code>Open in a new session</code>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/new-project-3.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Create New Project Dialog Box</em></figcaption><p></p>
</figure>
</div>
<p>As the new project directory is created, we will add in several subdirectories that will keep the various components of our data analysis organized. This structure is somewhat flexible; if you want to use different naming conventions or different folder types, that is up to you. The following is a good template, and the one we will use for at least this week’s lab and assignment:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/new-project-4.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Lab 2 Directory + Subdirectory Structure</em></figcaption><p></p>
</figure>
</div>
<p>A well-organized folder structure within an RStudio project is crucial. Common conventions include:</p>
<p><code>data/</code>: For raw data (treated as read-only).</p>
<p><code>docs/</code>: For documentation or R Markdown files.</p>
<p><code>results/</code>: For outputs and generated results.</p>
<p><code>scripts/</code>: For R scripts and analysis pipelines.</p>
<p><code>docs/</code>: For documentation or R Markdown files.</p>
<p>There are two approaches to creating your subdirectories: first, you can always create the structure <em>outside</em> RStudio and it will be valid. However, you can utilize the <em>Files</em> section of the RStudio interface and simply use the <code>new folder</code> tool therein as is the case in creating the <code>scripts/</code> directory to following:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/new-project-5.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Create new files via the Files interface</em></figcaption><p></p>
</figure>
</div>
</section>
<section id="step-2" class="level4">
<h4 class="anchored" data-anchor-id="step-2">Step 2:</h4>
<p>With the <code>lab_2.Rproj</code> established and the subdirectories for our data analysis established, we can move along to working on the code steps for our first Exploratory Data Analysis (EDA) lab.</p>
<ul>
<li>Download the <a href="https://github.com/tns-course-repositories/Methods_1-PGUD5160-DUE-Program-fall25/blob/main/scripts/c2_lab2-script.R">Class 2 Lab 2 R Script</a>; open this script into your current working environment. You can also save this easily in your newly created <code>scripts/</code> subdirectory.</li>
</ul>
<p>To start, it makes sense to check that indeed our project is located correctly in the directory we’ve established:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1"><a href="#cb1-1"></a>get(wd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This should return the expected <code>lab_2</code> project directory.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/new-project-6.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Checking the working directory</em></figcaption><p></p>
</figure>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Your ‘upstream’ path will likely be different than <code>Users/x15</code>… if you are using macOS, your full path would be akin to <code>/Users/your_machine_name/Desktop/lab_2</code>. This is fine; we want to simply make sure that the directory we created - <code>lab_2</code> is indeed the directory in which and from which we are and will be working.</p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This lab, like the course generally, utilizes macOS file path conventions. Windows users need to adjust for this difference between their OS conventions and macOS. Windows utilizes the opposite ‘backward’ slash convention as well as naming explicitly the drive location: Windows: <code>C:\Users\username\Desktop\lab_2</code> Linux/macOS: <code>/Users/username/Desktop/lab_2</code></p>
</div>
</div>
</section>
<section id="step-3" class="level4">
<h4 class="anchored" data-anchor-id="step-3">Step 3:</h4>
<p>Before importing our initial data and beginning EDA, we will review some base R options for the <code>list.files()</code> function.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1"><a href="#cb2-1"></a>list.files()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb3-1"><a href="#cb3-1"></a>list.files("scripts")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb4-1"><a href="#cb4-1"></a>list.files("~/Desktop/lab_2", recursive = TRUE, include.dirs = TRUE, full.names = TRUE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><a href="https://search.r-project.org/R/refmans/base/html/list.files.html"><code>list.files()</code> R Documentation</a></p>
<p>Reporting all your paths within a project directory can be very helpful if you are receiving <code>object not found</code> errors. It may be very well that a code line is simply formed incorrectly or the object is simply in a location other than specified in the code line.</p>
<blockquote class="blockquote">
<p>The “object not found” error in R indicates that the R interpreter cannot locate a variable, function, or dataset that your code is attempting to use.</p>
</blockquote>
</section>
<section id="step-4" class="level4">
<h4 class="anchored" data-anchor-id="step-4">Step 4:</h4>
<p>With our project directory set up for <code>lab_2</code> and an orientation with both <code>getwd()</code> and <code>list.files()</code> complete, we will move onto importing data into R! Recall last week we created our own R data frame from scratch. This week we are utilizing a fully formed dataset with procedures and methods established. In other words, we don’t have control over the data, but we should have confidence that the data is valid in the sense that its been collected by an official agency with data procedures that are transparent, regardless their potential controversy or disagreements in the larger context of New York City policy and politics.</p>
<p>To start, we will <code>copy/paste</code> the <code>.csv</code> download from the data section above and place it into the <code>/data</code> subdirectory. Once complete, if we run <code>list.files("data")</code> we should see it report back <code>"NYPD_Arrest_Data__Year_to_Date__20250818.csv"</code>.</p>
<p>Next, we will utilize the base R function to read and load a <code>.csv</code> into our <em>Global Environment</em>. We will name this now converted data frame <code>arrestNYC</code> to start:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1"><a href="#cb5-1"></a>arrestNYC &lt;- read.csv("data/NYPD_Arrest_Data__Year_to_Date__20250818.csv")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>If your code fails, try running <code>list.files("~/Desktop/lab_2", recursive = TRUE, include.dirs = TRUE, full.names = TRUE)</code> and pick up the exact, correct path to the <code>.csv</code> we copied to the <code>data</code> folder and reform the <code>read.csv()</code> argument.</p>
</div>
</div>
<p>Next, we are squarely within EDA analysis territory now! To start, let’s review the <em>structure</em> of the data using the base R <code>str()</code> function as follows:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1"><a href="#cb6-1"></a>str(arrestNYC) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This reports back that we have 143,494 observations with 19 variables each, and the variables all match what is in the data dictionary for the dataset. Our job now is to determine what each of these variables means contextually before proceeding to more advanced EDA.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/eda-1a.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Structure of the Arrest Data</em></figcaption><p></p>
</figure>
</div>
<p>We can also run <code>summary()</code> which will give us a similar profile view of the dataset, and importantly for integer and number variables types, we receive a short statistical profile. In our case here, there are no integer or number variables that benefit from a statistical profile as this dataset is decidedly categorical; that is, the intake procedure of the dataset is designed to capture established categories of each arrest.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"><a href="#cb7-1"></a>summary(arrestNYC) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Next, the dimension function will return an aggregated count of observations and variables in the dataset:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"><a href="#cb8-1"></a>dim(arrestNYC) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In upcoming weeks, we will attend to the issue of <code>NULL</code> and <code>NA</code> values, or rather ‘missingness’ in a dataset. It is crucial to determine the presence of missing values before any statistical analysis. In our case here, we want to preview the dataset to first determine if missing values are present; and then get a preview of the observations that feature missing values across at least one variable category. To do this we can use the following:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb9-1"><a href="#cb9-1"></a>anyNA(arrestNYC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb10-1"><a href="#cb10-1"></a>arrestNYC[!complete.cases(arrestNYC),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In our return, we see that indeed <code>TRUE</code> there exists missing values, and then with the second function, we can determine exactly which observations are at issue:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/eda-2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Missing Values returned &amp; highlighted</em></figcaption><p></p>
</figure>
</div>
<p>We have a choice at this point. We can throw out these observations altogether; we can recode the missing values or we can apply a statistically derived value to ‘pad’ in a new value. Again, we will cover this issue in more depth as we move along in the course. For now, we can simply leave as is as this is a very small component of the dataset. In our analysis we may indeed look at the <em>Offence Description</em> column, and we can either keep the missing values for this analysis, or we could indeed remove them for this particular analysis. But by and large, these missing values are not going to impact our EDA analysis workflow for this particular week.</p>
<p>Before we move on to several data preparation steps, keep in mind that we’ve used just several base R EDA functions for data inspection. Here is a concise list of the functions:</p>
<p><code>head(x, n)</code> / <code>tail(x, n)</code> → view first/last rows.</p>
<p><code>dim(x)</code> → dimensions (#rows, #cols).</p>
<p><code>nrow(x)</code>, <code>ncol(x)</code> → number of rows / columns.</p>
<p><code>names(x)</code> → column names.</p>
<p><code>str(x)</code> → structure of the object (very useful for data frames).</p>
<p><code>class(x)</code> / <code>typeof(x)</code> → object type.</p>
<p><code>summary(x)</code> → quick statistical summary (mean, median, quartiles, etc. for numeric; counts for factors).</p>
<p><code>table(x)</code> → frequency table for categorical data.</p>
<p><code>unique(x)</code> → unique values.</p>
<p><code>anyNA(x) / is.na(x)</code> → check missing values.</p>
</section>
<section id="step-5" class="level4">
<h4 class="anchored" data-anchor-id="step-5">Step 5:</h4>
<p>Now that we’ve done an initial inspection of the NYC arrest dataset, we need to address two issues in particular prior to EDA visualization:</p>
<ol type="1">
<li><p><code>ARREST_DATE</code> reads into the data frame as a character <code>chr</code> but we need it to be an actual date type variable in order to plot the observations in their correct date ‘position’ from the start of the collection period <code>01/01/25</code>, to its end in <code>06/11/25</code>.</p></li>
<li><p>Many of the variables that we are interested in visualizing are in the character <code>chr</code> format, and we need them to be in the factor type which is specifically designed to handle categorical data of which we have a majority in this dataset. Again, the NYPD dataset is heavy on ‘type’ across a variety of variables that are taken at the arrest intake procedure.</p></li>
</ol>
<p>To start, we will transform the <code>ARREST_DATE</code> from character to date type. This is a relatively complex task, and there are several ways in R - even outside base R - to do this. Here we will read in the dataset, make the transformation, and read it out to the Global Environment. We could, and likely should, rename the revised data frame; but for brevity we will keep it the same name <code>arrestNYC</code> for all our transformations prior to visualization.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb11-1"><a href="#cb11-1"></a>arrestNYC$ARREST_DATE &lt;- as.Date(arrestNYC$ARREST_DATE, format = "%m/%d/%Y")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The result should now show the <code>Date</code> format correctly:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/eda-3.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Corrected Date variable type</em></figcaption><p></p>
</figure>
</div>
<p>Next, we will address the many columns that should be factor types that are currently character types. However, other columns that are character types can also be transformed to factors in our case as well, making the code a bit easier to apply as a list, as opposed to one-by-one variables. The variables we are interested in are as follows:</p>
<p><code>PD_DESC</code></p>
<p><code>OFNS_DESC</code></p>
<p><code>ARREST_BORO</code></p>
<p><code>AGE_GROUP</code></p>
<p><code>PERP_SEX</code></p>
<p><code>PERP_RACE</code></p>
<p>First, we make a temporary list <code>char_cols</code> of all the characters in our dataset:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb12-1"><a href="#cb12-1"></a>char_cols &lt;- sapply(arrestNYC, is.character)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Next, we pass <code>char_cols</code> along to our dataset, making the transformation along the way using <code>as.factor</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb13-1"><a href="#cb13-1"></a>arrestNYC[char_cols] &lt;- lapply(arrestNYC[char_cols], as.factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The results should show that we now have both our date issue resolved as well as our factor issue.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/eda-4.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Corrected Character &gt; Factor variables</em></figcaption><p></p>
</figure>
</div>
<p>With data cleaning done, we can move along to EDA visualization. First, we will save our results into the <code>results</code> subdirectory, and then read it back into our working session. We will then have two versions of the data: the original <code>.csv</code> and our cleaned version as a <code>.RData</code> object saved in the <code>results</code> subdirectory,</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb14-1"><a href="#cb14-1"></a>save(arrestNYC, file = "results/arrestNYC.RData")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb15-1"><a href="#cb15-1"></a>load("results/arrestNYC.RData")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-6" class="level4">
<h4 class="anchored" data-anchor-id="step-6">Step 6:</h4>
<p>To start our EDA visualziation, make sure the data is loaded:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb16-1"><a href="#cb16-1"></a>load("results/arrestNYC.RData")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In base R, histograms are used to visually represent the distribution of a single numerical variable. They provide a quick and intuitive way to understand key characteristics of the data:</p>
<ul>
<li><p><strong>Shape of the distribution</strong>: Histograms reveal whether the data is symmetric, skewed (to the left or right), or has multiple peaks (modes).</p></li>
<li><p><strong>Central tendency</strong>: The location of the highest bars indicates where the majority of the data points are concentrated.</p></li>
<li><p><strong>Spread or variability</strong>: The width of the distribution shows how spread out the data points are.</p></li>
<li><p><strong>Outliers</strong>: Isolated bars far from the main body of the distribution can suggest the presence of outliers.</p></li>
<li><p><strong>Presence of multiple modes</strong>: If the histogram has distinct peaks, it might indicate that the data comes from different underlying groups or processes.</p></li>
</ul>
<p>In review of our data, we’ve noted that many variables are now in the factor format and not appropriate for the histogram approach. In fact, there is not much in our dataset that returns much meaning via a histogram. Given this, let’s at least run this approach using the <code>Latitude</code> and <code>Longitude</code> variables which are both numbers format. This will help us understand our mapping of arrest points later in the lab.</p>
<ul>
<li><strong>Latitude</strong>:</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb17-1"><a href="#cb17-1"></a>hist(arrestNYC$Latitude,</span>
<span id="cb17-2"><a href="#cb17-2"></a>     main = "Histogram of Latitude of Arrest Points",</span>
<span id="cb17-3"><a href="#cb17-3"></a>     xlab = "Degree of Latitude",</span>
<span id="cb17-4"><a href="#cb17-4"></a>     ylab = "Frequency",</span>
<span id="cb17-5"><a href="#cb17-5"></a>     col = "black",</span>
<span id="cb17-6"><a href="#cb17-6"></a>     border = "black")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/lat-histogram.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Histogram of Latitude of Arrest Points</em></figcaption><p></p>
</figure>
</div>
<p>The results may seem odd, but the histogram does help us. Most of our values are near latitude of 40 degrees, but we also have values at zero. We’ve discerned a problem with this approach; there are not actual locations with a zero value that are also in the NYC region. Before mapping, we will need to address this deficiency.</p>
<ul>
<li><strong>Longitude</strong>:</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb18-1"><a href="#cb18-1"></a>hist(arrestNYC$Longitude,</span>
<span id="cb18-2"><a href="#cb18-2"></a>     main = "Histogram of Longitude of Arrest Points",</span>
<span id="cb18-3"><a href="#cb18-3"></a>     xlab = "Degree of Longitude",</span>
<span id="cb18-4"><a href="#cb18-4"></a>     ylab = "Frequency",</span>
<span id="cb18-5"><a href="#cb18-5"></a>     col = "black",</span>
<span id="cb18-6"><a href="#cb18-6"></a>     border = "black")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/long-histogram.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Histogram of Longitude of Arrest Points</em></figcaption><p></p>
</figure>
</div>
</section>
<section id="step-7" class="level4">
<h4 class="anchored" data-anchor-id="step-7">Step 7:</h4>
<p>With a histogram complete, we will move on to working with a variety of categorical data in our dataset. To start, we might want to know which geography has the highest crime level across all crimes. We need to acknowledge that are not controlling for either square area difference - Queens is of course much larger than Staten Island - or for total population differences. This is known as normalization. Common approaches include:</p>
<ul>
<li><p><strong>Normalization by area</strong>: Dividing a value by the area of the geographical unit (e.g., dividing the number of businesses by the total area of a city or county).</p></li>
<li><p><strong>Normalization by population</strong>: Dividing a value by the population of the geographical unit (e.g., dividing the number of hospitals by the population of a region).</p></li>
<li><p><strong>Normalization by density</strong>: Calculating a rate based on the number of people or objects within a given area.</p></li>
<li><p><strong>Normalization by standard deviation</strong>: Subtracting the mean and dividing by the standard deviation, useful for comparing data across different geographies.</p></li>
</ul>
<p>Without normalization, we should generally expect geographies with smaller areas and less population to have less arrest levels. We will test this for both the borough geographies <code>ARREST_BORO</code>, the police precinct in which the arrest occurred - the <code>ARREST_PRECINCT</code>.</p>
<p>To start, we will make a frequency table for the number of arrests per borough and then one for arrests per precinct:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb19-1"><a href="#cb19-1"></a>arrest_counts_boro &lt;- table(arrestNYC$ARREST_BORO)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb20-1"><a href="#cb20-1"></a>arrest_counts_precinct &lt;- table(arrestNYC$ARREST_PRECINCT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Next, we will create bar plots for both tables, resulting in plots that help us understand the aggregated totals per geography:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb21-1"><a href="#cb21-1"></a>barplot(arrest_counts_boro,</span>
<span id="cb21-2"><a href="#cb21-2"></a>        main = "Arrest in NYC by Arrest Borough (Jan-June 2025)",</span>
<span id="cb21-3"><a href="#cb21-3"></a>        xlab = "Borough",</span>
<span id="cb21-4"><a href="#cb21-4"></a>        ylab = "Count",</span>
<span id="cb21-5"><a href="#cb21-5"></a>       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/bar-borough.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Arrest in NYC by Arrest Borough</em></figcaption><p></p>
</figure>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>New York City is divided into 78 police precincts, and each precinct is divided into sectors that correspond, as much as possible, with the boundaries of actual established neighborhoods. As default, base R will often ‘drop’ labels that are difficult to place (or in our case, too many in number) into the default label positions per bar. One way around this issue is seen in the code chunk below:</p>
</div>
</div>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb22-1"><a href="#cb22-1"></a>barplot(arrest_counts_precinct,</span>
<span id="cb22-2"><a href="#cb22-2"></a>        main = "Arrest in NYC by Arrest Precinct (Jan-June 2025)",</span>
<span id="cb22-3"><a href="#cb22-3"></a>        xlab = "Borough",</span>
<span id="cb22-4"><a href="#cb22-4"></a>        ylab = "Count",</span>
<span id="cb22-5"><a href="#cb22-5"></a>        names.arg = names(arrest_counts_precinct),</span>
<span id="cb22-6"><a href="#cb22-6"></a>        las = 2,</span>
<span id="cb22-7"><a href="#cb22-7"></a>        cex.names = 0.5,</span>
<span id="cb22-8"><a href="#cb22-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/bar_precinct.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Arrest in NYC by Arrest Precinct</em></figcaption><p></p>
</figure>
</div>
<p>As we have several categorical data variables in our dataset - Age, Sex and Race - these are all ideal candidates for the bar plot type we have just finished for the Arrest Boroughs and Precincts. Consider one of these candidates for the assignment 2 deliverable for this week upcoming, detailed futher in <a href="https://tns-course-repositories.github.io/Methods_1-PGUD5160-DUE-Program-fall25/assignments-labs/c2_assignment">Assignment 2</a></p>
</section>
<section id="step-8" class="level4">
<h4 class="anchored" data-anchor-id="step-8">Step 8:</h4>
<p>Next, we will turn to the temporal dimension of our dataset. As we know from the metadata, the arrest period spans from January 1st, 2025 to June 11th, 2025. Thus far, we only know the distribution of the data spatially across boroughs and precincts. What about across time? Since we early transformed the input character format to explicit <code>DATE</code> type, we can now plot this data in its correct sequence. We can do this either by a line plot or barplot.</p>
<p>First, we need to aggregate each individual observation in our arrest data to a daily total in a simple table format. Keep in mind that ther3 are multiple arrests in the dataset that each have the same datestamp:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb23-1"><a href="#cb23-1"></a>daily_count &lt;- table(arrestNYC$ARREST_DATE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>#Note The <code>table()</code> function is a base R function used to create frequency tables of categorical data. It counts the occurrences of unique values within one or more vectors or factors, providing a summary of their distribution.</p>
</div>
</div>
<p>Next, we pass the new table <code>daily_count</code> to the line plot and add in a smoothed line to see the trend better:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb24-1"><a href="#cb24-1"></a>plot(daily_counts, type = "l",</span>
<span id="cb24-2"><a href="#cb24-2"></a>     main = "NYC Arrest Trend (Jan-June 2025) ",</span>
<span id="cb24-3"><a href="#cb24-3"></a>     xlab = "Beginning &gt; End | Months", ylab = "Daily Arrest Totals")</span>
<span id="cb24-4"><a href="#cb24-4"></a>    lines(lowess(daily_counts, f = 0.2), col = "orange", lwd = 3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/line-arrests.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>NYC Arrest Trend (Jan-June 2025)</em></figcaption><p></p>
</figure>
</div>
<p>Next, we utilize aggregation again, with the result as monthly bars in a barplot. First, we need to aggregate the observations, this time into months, not days. To do this we reformat the date to just be year + month:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb25-1"><a href="#cb25-1"></a>reformat_date &lt;- format(arrestNYC$ARREST_DATE, "%Y-%m")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>#Note The <code>format()</code> function in R is used to format R objects, such as numbers, strings, and dates, for display purposes. It provides control over various aspects of the output, including the number of decimal places, alignment, scientific notation, and width.</p>
</div>
</div>
<p>We follow this with a small table of the monthly aggregations:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb26-1"><a href="#cb26-1"></a>monthly_counts &lt;- table(reformat_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then the monthly aggregation is past to the bar plot:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb27-1"><a href="#cb27-1"></a>barplot(monthly_counts, </span>
<span id="cb27-2"><a href="#cb27-2"></a>            main = "NYC Arrest Trend (Jan-June 2025)", </span>
<span id="cb27-3"><a href="#cb27-3"></a>            xlab = "Month", </span>
<span id="cb27-4"><a href="#cb27-4"></a>            ylab = "Number of Arrests",</span>
<span id="cb27-5"><a href="#cb27-5"></a>            )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/bar-month.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>NYC Arrest Trend (Jan-June 2025)</em></figcaption><p></p>
</figure>
</div>
</section>
<section id="step-9" class="level4">
<h4 class="anchored" data-anchor-id="step-9">Step 9:</h4>
<p>In our final plot, we will turn to the geographic distribution of the arrest locations across all 5 boroughs. In upcoming week’s, we will utilize several mapping packages to fine tune R’s mapping capabilities, but for now we can produce a rudimentary map using base R functionality.</p>
<p>First, we will prepare our Latitude and Longitude points, and then pass a mapping extent to the plot before producing the plot. As we can recall in Step 6 above, we have observations in our dataset that have both <code>zero</code> value Latitude and Longitude. These are mistakes that we will first remove prior to plotting. We will create a new data frame separate of the data frame upon which we have been working for this plot:</p>
<p>To start, we check to see if <code>NA</code> is present - missing values. Next, we check for the existence of <code>zero</code> values:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb28-1"><a href="#cb28-1"></a>sum(is.na(arrestNYC$Latitude)) </span>
<span id="cb28-2"><a href="#cb28-2"></a>sum(is.na(arrestNYC$Longitude)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb29-1"><a href="#cb29-1"></a>is_zero &lt;- (arrestNYC$Latitude == 0)</span>
<span id="cb29-2"><a href="#cb29-2"></a>sum(is_zero)</span>
<span id="cb29-3"><a href="#cb29-3"></a>is_zero &lt;- (arrestNYC$Longitude == 0)</span>
<span id="cb29-4"><a href="#cb29-4"></a>sum(is_zero)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Before altering the dataset, we will create a new dataframe and work in this new dataframe. Using square brackets <code>[]</code> we subset the new dataframe to just the two variables <code>Latitude</code> and <code>Longitude</code>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb30-1"><a href="#cb30-1"></a>arrestNYC_mapping &lt;- arrestNYC[, c("Latitude", "Longitude")]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>As we have <code>zero</code> values, and we wish to remove them, we can apply the following code chunk:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb31-1"><a href="#cb31-1"></a>arrestNYC_mapping_no_zero &lt;- arrestNYC_mapping[arrestNYC_mapping$Longitude != 0,]</span>
<span id="cb31-2"><a href="#cb31-2"></a>arrestNYC_mapping_no_zero &lt;- arrestNYC_mapping[arrestNYC_mapping$Latitude != 0,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Next, we calculate the extent of the latitude and longitude values so that base R can draw the correct plot frame:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb32-1"><a href="#cb32-1"></a>min_lon &lt;- min(arrestNYC_mapping_no_zero$Longitude)</span>
<span id="cb32-2"><a href="#cb32-2"></a>max_lon &lt;- max(arrestNYC_mapping_no_zero$Longitude)</span>
<span id="cb32-3"><a href="#cb32-3"></a>min_lat &lt;- min(arrestNYC_mapping_no_zero$Latitude)</span>
<span id="cb32-4"><a href="#cb32-4"></a>max_lat &lt;- max(arrestNYC_mapping_no_zero$Latitude)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We then pass these values along to the plot frame so that we can see the extent of the plot:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb33-1"><a href="#cb33-1"></a>plot(NULL, xlim = c(min_lon, max_lon), ylim = c(min_lat, max_lat),</span>
<span id="cb33-2"><a href="#cb33-2"></a>     xlab = "Longitude", ylab = "Latitude",</span>
<span id="cb33-3"><a href="#cb33-3"></a>     main = "Arrest Location Points in NYC (Jan-June 2025)")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Finally, we add in our arrest points to the plot, styling them with two arguments so that they are small enough so that we can see the pattern of arrest across all 5 NYC boroughs:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb34-1"><a href="#cb34-1"></a>points(arrestNYC_mapping_no_zero$Longitude, arrestNYC_mapping_no_zero$Latitude, pch = 3, cex = 0.08)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="c2_lab_files/img/nyc-arrest-pts-mapped.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Arrest Location Points in NYC (Jan-June 2025)</em></figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding Remarks</h2>
<p>In this second demonstration lab, we have downloaded a <code>.csv</code> file, converting it into a R dataset for further EDA analysis. As we move to a review of the second week’s assignment, individual steps demonstrated here can be used and revised to assist you in the completion of the assignment deliverable. In fact, we will begin the second week assignment by copying the data we have processed here into our assignment 2 R project.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References:</h2>
<ul>
<li><a href="https://intro2r.com/graphics_base_r.html">intro2r - base R graphics</a></li>
<li><a href="https://rstudio.github.io/cheatsheets/base-r.pdf">Base R - Cheatsheet</a></li>
<li><a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc/about_data">NYC Arrest Data Year-to-Date</a></li>
<li><a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Arrests-Data-Historic-/8h9b-rp9u/about_data">NYC Arrest Data - Historical</a></li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/^(?:http:|https:)\/\/www\.quarto\.org\/custom/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->



<script src="c2_lab_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>